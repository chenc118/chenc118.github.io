<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ExprNorm</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) chenc118 @ 2018</td></tr><tr><th>License</th><td>WTFPL</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>MSDOS</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">ExprNorm</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Multiplication Normalization</a></li><li><a href="#g:2">Exponent Normalization</a></li><li><a href="#g:3">Addition Normalization</a></li><li><a href="#g:4">Ln Normalization</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Constains some helper functions used by <code>simplify</code> in <a href="ExprDiff.html">ExprDiff</a>.</p><p>Used to normalize expressions to a constant form that can be further reduced by <code>simplify</code> easily</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:multNorm">multNorm</a> :: (Ord a, Num a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</li><li class="src short"><a href="#v:expandExp">expandExp</a> :: (Num a, Ord a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</li><li class="src short"><a href="#v:fromListMult">fromListMult</a> :: [<a href="ExprType.html#t:Expr">Expr</a> a] -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</li><li class="src short"><a href="#v:toListMult">toListMult</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</li><li class="src short"><a href="#v:multNorml">multNorml</a> :: (Ord a, Num a) =&gt; [<a href="ExprType.html#t:Expr">Expr</a> a] -&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</li><li class="src short"><a href="#v:expNorm">expNorm</a> :: (Num a, Ord a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</li><li class="src short"><a href="#v:addNorm">addNorm</a> :: (Ord a, Num a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</li><li class="src short"><a href="#v:fromListAdd">fromListAdd</a> :: [<a href="ExprType.html#t:Expr">Expr</a> a] -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</li><li class="src short"><a href="#v:toListAdd">toListAdd</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</li><li class="src short"><a href="#v:addNorml">addNorml</a> :: (Ord a, Num a) =&gt; [<a href="ExprType.html#t:Expr">Expr</a> a] -&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</li><li class="src short"><a href="#v:almostEqual">almostEqual</a> :: (Ord a, Num a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; Bool</li><li class="src short"><a href="#v:mCoef">mCoef</a> :: (Ord a, Num a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; a</li><li class="src short"><a href="#v:mTerm">mTerm</a> :: (Ord a, Num a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</li><li class="src short"><a href="#v:expandMult">expandMult</a> :: Eq a =&gt; [<a href="ExprType.html#t:Expr">Expr</a> a] -&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</li><li class="src short"><a href="#v:lnNorm">lnNorm</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</li></ul></div><div id="interface"><h1>Documentation</h1><h2 id="g:1">Multiplication Normalization</h2><div class="top"><p class="src"><a id="v:multNorm" class="def">multNorm</a> <a href="#v:multNorm" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (Ord a, Num a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="ExprType.html#t:Expr">Expr</a> a</td><td class="doc"><p>An Expression of form (<code><a href="ExprType.html#v:Mult">Mult</a></code> e1 e2) any other form will return itself</p></td></tr><tr><td class="src">-&gt; <a href="ExprType.html#t:Expr">Expr</a> a</td><td class="doc"><p>A normalized form of (<code><a href="ExprType.html#v:Mult">Mult</a></code> e1 e2) or a Constant if it is a multiplication of constants else the input</p></td></tr></table></div><div class="doc"><p>Normalize a multiplication Expression
    Always converts a Mult Expression to another Mult Expression or Const Expression in normalized form. (Note this isn't a proper normalized form in terms of 
    rewrite functions but normalizes it to a form that <code>simplify</code> can normalize)
    This is a recursive normalization function, there is an alternate multiplication normalization function that uses lists.</p></div></div><div class="top"><p class="src"><a id="v:expandExp" class="def">expandExp</a> :: (Num a, Ord a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a <a href="#v:expandExp" class="selflink">#</a></p><div class="doc"><p>Expands an exponent with multiplication inside to have multiplication outside</p></div></div><div class="top"><p class="src"><a id="v:fromListMult" class="def">fromListMult</a> :: [<a href="ExprType.html#t:Expr">Expr</a> a] -&gt; <a href="ExprType.html#t:Expr">Expr</a> a <a href="#v:fromListMult" class="selflink">#</a></p><div class="doc"><p>Converts a list of expressions into a multiplication expression, fails if given an empty list</p></div></div><div class="top"><p class="src"><a id="v:toListMult" class="def">toListMult</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; [<a href="ExprType.html#t:Expr">Expr</a> a] <a href="#v:toListMult" class="selflink">#</a></p><div class="doc"><p>Converts a multiplication Expression <code><a href="ExprType.html#v:Mult">Mult</a></code> into a list of its components</p></div></div><div class="top"><p class="src"><a id="v:multNorml" class="def">multNorml</a> <a href="#v:multNorml" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (Ord a, Num a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</td><td class="doc"><p>list of expressions multiplied together, use <code><a href="ExprNorm.html#v:toListMult">toListMult</a></code> to convert from an <code>Expr a</code> </p></td></tr><tr><td class="src">-&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</td><td class="doc"><p>list of expressions multiplied together, use <code><a href="ExprNorm.html#v:fromListMult">fromListMult</a></code> to convert to an <code>Expr a</code></p></td></tr></table></div><div class="doc"><p>Normalize a multiplication Expression
    Always converts a Mult Expression to another Mult Expression or Const Expression in normalized form.
    This is a normalization function using lists, use this to understand tha basics of how this multiplication normalization works <code><a href="ExprNorm.html#v:multNorm">multNorm</a></code> is basically this but w/o lists</p></div></div><h2 id="g:2">Exponent Normalization</h2><div class="top"><p class="src"><a id="v:expNorm" class="def">expNorm</a> <a href="#v:expNorm" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (Num a, Ord a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="ExprType.html#t:Expr">Expr</a> a</td><td class="doc"><p>Exp a b expression, any other types are ignored</p></td></tr><tr><td class="src">-&gt; <a href="ExprType.html#t:Expr">Expr</a> a</td><td class="doc"><p>Normalized form of Exp expression</p></td></tr></table></div><div class="doc"><p>Normalize an exponent. Always converts an exponent to another exponent</p></div></div><h2 id="g:3">Addition Normalization</h2><div class="top"><p class="src"><a id="v:addNorm" class="def">addNorm</a> :: (Ord a, Num a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a <a href="#v:addNorm" class="selflink">#</a></p><div class="doc"><p>Normalize an addition Expression
    Always converts a Add Expression to antoher Add expression in normalized form. See <code><a href="ExprNorm.html#v:addNorml">addNorml</a></code></p></div></div><div class="top"><p class="src"><a id="v:fromListAdd" class="def">fromListAdd</a> :: [<a href="ExprType.html#t:Expr">Expr</a> a] -&gt; <a href="ExprType.html#t:Expr">Expr</a> a <a href="#v:fromListAdd" class="selflink">#</a></p><div class="doc"><p>Converts a list of expressions into an addition expression, fails if given an empty list</p></div></div><div class="top"><p class="src"><a id="v:toListAdd" class="def">toListAdd</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; [<a href="ExprType.html#t:Expr">Expr</a> a] <a href="#v:toListAdd" class="selflink">#</a></p><div class="doc"><p>Converts an addition Expression <code><a href="ExprType.html#v:Add">Add</a></code> into a list of its components</p></div></div><div class="top"><p class="src"><a id="v:addNorml" class="def">addNorml</a> <a href="#v:addNorml" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (Ord a, Num a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</td><td class="doc"><p>list of expressions that will be added together, use <code><a href="ExprNorm.html#v:toListAdd">toListAdd</a></code> to convert from <code>Expr a</code> </p></td></tr><tr><td class="src">-&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</td><td class="doc"><p>list of expressions that will be added together, use <code><a href="ExprNorm.html#v:fromListAdd">fromListAdd</a></code> to convert to <code>Expr a</code></p></td></tr></table></div><div class="doc"><p>Normalize an addition Expression
     Always converts an Add Expression to another Add Expression or Const Expression in normalized form. (Note this isn't a proper normalized form in terms of 
    rewrite functions but normalizes it to a form that <code>simplify</code> can normalize)
    Uses lists as that's the easiest way to normalize for addition.</p></div></div><div class="top"><p class="src"><a id="v:almostEqual" class="def">almostEqual</a> :: (Ord a, Num a) =&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; Bool <a href="#v:almostEqual" class="selflink">#</a></p><div class="doc"><p>A function whose name gives you no idea what the heck it's for (you always have to have nonsensical names in your code)</p></div></div><div class="top"><p class="src"><a id="v:mCoef" class="def">mCoef</a> <a href="#v:mCoef" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (Ord a, Num a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="ExprType.html#t:Expr">Expr</a> a</td><td class="doc"><p>Expression to extract coefficient from</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>Coefficient</p></td></tr></table></div><div class="doc"><p>Extract coefficient from multipication term</p><p>For a multiplication expression this is either the constant value or 1.
 For any other expressions this is 1</p><p>i.e. coef of \[5x\] is 5</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>mCoef (Mult (Const 5) (Var &quot;x&quot;))
</code></strong>5
</pre></div></div><div class="top"><p class="src"><a id="v:mTerm" class="def">mTerm</a> <a href="#v:mTerm" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (Ord a, Num a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="ExprType.html#t:Expr">Expr</a> a</td><td class="doc"><p>Expression to extrac the term from </p></td></tr><tr><td class="src">-&gt; <a href="ExprType.html#t:Expr">Expr</a> a</td><td class="doc"><p>Extracted term</p></td></tr></table></div><div class="doc"><p>Extract Term from a multiplication term</p><p>For a mutliplication expression this is everything except the constants.
 FOr any other expression this is itself</p><p>i.e. term of \[5x\] is x</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>mTerm (Mult (Const 5) (Var &quot;x&quot;))
</code></strong>(var &quot;x&quot;)
</pre></div></div><div class="top"><p class="src"><a id="v:expandMult" class="def">expandMult</a> <a href="#v:expandMult" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Eq a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</td><td class="doc"><p>list of expressions that will be multiplied together, use <code><a href="ExprNorm.html#v:toListMult">toListMult</a></code> to convert from an <code>Expr a</code> </p></td></tr><tr><td class="src">-&gt; [<a href="ExprType.html#t:Expr">Expr</a> a]</td><td class="doc"><p>list of expressions that will be added together, use <code><a href="ExprNorm.html#v:fromListAdd">fromListAdd</a></code> to convert to an <code>Expr a</code> form</p></td></tr></table></div><div class="doc"><p>Takes a list of expressions multiplied and returns a list of addition expanding any Add within the list of multiplication</p></div></div><h2 id="g:4">Ln Normalization</h2><div class="top"><p class="src"><a id="v:lnNorm" class="def">lnNorm</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a <a href="#v:lnNorm" class="selflink">#</a></p><div class="doc"><p>Normalizes a Ln expresssion by expanding Multiplication within and bringing down the exponent for exponents within</p></div></div><h1>Orphan instances</h1><div id="section.orphans" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:Ord:Ord:1" class="instance expander" onclick="toggleSection('i:o:ic:Ord:Ord:1')"></span> (Ord a, Num a) =&gt; Ord (<a href="ExprType.html#t:Expr">Expr</a> a)</span> <a href="#v:-36-fOrdExpr" class="selflink">#</a></td><td class="doc"><p>Basic ordering, wherein things are sorted from least to greatest from most specific to least
    <code><a href="ExprType.html#v:Const">Const</a></code> &lt; <code><a href="ExprType.html#v:Var">Var</a></code> &lt; <code><a href="ExprType.html#v:Cos">Cos</a></code> &lt; <code><a href="ExprType.html#v:Sin">Sin</a></code> &lt; <code><a href="ExprType.html#v:Ln">Ln</a></code> &lt; <code><a href="ExprType.html#v:NExp">NExp</a></code> &lt; <code><a href="ExprType.html#v:Add">Add</a></code> &lt; <code><a href="ExprType.html#v:Mult">Mult</a></code> &lt; <code><a href="ExprType.html#v:Exp">Exp</a></code> </p></td></tr><tr><td colspan="2"><div id="section.i:o:ic:Ord:Ord:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</p><p class="src"><a href="#v:min">min</a> :: <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a -&gt; <a href="ExprType.html#t:Expr">Expr</a> a</p></div></div></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>